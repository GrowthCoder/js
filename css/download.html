<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
      #weixin-tip{display:none;position:fixed;left:0;top:0;background:rgba(0,0,0,0.8);filter:alpha(opacity=80);width:100%;height:100%;z-index:100;}
  #weixin-tip p{text-align:center;margin-top:10%;padding:0 5%;position:relative;}
  #weixin-tip .close{color:#fff;padding:5px;font:bold 20px/24px simsun;text-shadow:0 1px 0 #ddd;position:absolute;top:0;left:5%;}
    
    </style>
</head>
<body>
  <script>
    var ua = navigator.userAgent;
    var isWeixin = !!/MicroMessenger/i.test(ua);
    
    var is_weixin = (function(){return navigator.userAgent.toLowerCase().indexOf('micromessenger') !== -1})();
window.onload = function() {
  var winHeight = typeof window.innerHeight != undefined ? window.innerHeight : document.documentElement.clientHeight; //兼容IOS，不需要的可以去掉
  var btn = document.getElementById('J_weixin');
  var tip = document.getElementById('weixin-tip');
  var close = document.getElementById('close');
  if (is_weixin) {
  btn.onclick = function(e) {
  tip.style.height = winHeight + 'px'; //兼容IOS弹窗整屏
  tip.style.display = 'block';
  return false;
  }
  close.onclick = function() {
  tip.style.display = 'none';
  }
  }
  }
  </script>
</body>
</html>